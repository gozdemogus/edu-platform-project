<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


<div class="col-lg-3 sidebar">

    @if (ViewBag.Enrolled == true)
    {


        <div class="sidebar-box bg-white p-4 ftco-animate">
            <div class="sidebar-box ftco-animate">
                <h3 class="heading-3">Good luck! <span class="icon icon-star-half-full" style="color:gold"></span></h3>
                <p>You enrolled this course at: @ViewBag.EnrollDate</p>
            </div>
        </div>
    }
    else
    {

        <div class="sidebar-box bg-white p-4 ftco-animate">
            <h3 class="heading-sidebar">Buy This Course<span class="icon icon-shopping-cart" style="color:gold"></span></h3>
            <p>Get this course at the most affordable prices and start learning now.</p>

            <a href="/Cart/AddToCart/@Model.Id"><button id="cart" class="btn btn-success">Add To Cart</button>   </a>
            <br />
            <div id="message">
            </div>

        </div>

    }

    <div class="sidebar-box bg-white p-4 ftco-animate">
        <h3 class="heading-sidebar">Search Course</h3>
        <form asp-action="SearchCourse" asp-controller="Course" method="post" class="search-form mb-3">
            <div class="form-group">
                <span class="icon icon-search"></span>
                <input id="receiver" type="text" name="keyword" class="form-control" placeholder="Search..">
            </div>
            <button id="subButton" type="submit" class="btn btn-success btn-block">Search</button>
        </form>
    </div>


    <div class="sidebar-box bg-white p-4 ftco-animate">
        <h3 class="heading-sidebar">Plan your learning time</h3>
        <center><span class="icon icon-heart" style="color:red ; size:100%"></span></center>
        <form action="#" class="search-form mb-3">
            <div class="form-group">

                <p>Devoting some time to learning each day pays off. According to research, students who make learning a habit are more likely to reach their goals. Take time to learn and get reminders using your learning planner.</p>
            </div>
        </form>

    </div>


    @await Component.InvokeAsync("CategoriesList")

    <div class="sidebar-box bg-white p-4 ftco-animate">
        <div class="sidebar-box ftco-animate">
            <h3 class="heading-3">Are you training more than 5 people?</h3>
            <p>Give your team access to Edumy's top 19,000 courses anytime, anywhere.</p>
        </div>
    </div>

</div>

<script>$(document).on('click', '#cart', function (event) {
        event.preventDefault();
        $.ajax({
            url: '/Cart/AddToCart/2',
            type: 'POST',
            success: function (response) {
                // Replace the content of the div with the response from the server
                $('#message').html(response);
                setTimeout(function () {
                    $('#message').fadeOut();
                }, 3000);
                $('#message').fadeIn();
            }
        });
    });</script>